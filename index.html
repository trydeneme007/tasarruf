<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaya Hesaplayƒ±cƒ±</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>
    <div class="app-container">

        <!-- √úst √áubuk: Logo + Girdiler -->
        <header class="top-bar">
            <div class="top-bar-left">
                <svg class="logo-icon" width="22" height="22" viewBox="0 0 24 24" fill="none">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" fill="#10b981" />
                    <path d="M2 17L12 22L22 17M2 12L12 17L22 12" stroke="#059669" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <span class="top-bar-title">Kaya</span>
            </div>

            <!-- Hƒ±zlƒ± Tutar Butonlarƒ± (Girdilerin √úst√ºnde) -->
            <div class="top-bar-inputs">
                <div class="top-input">
                    <label>Hedef Tutar</label>
                    <div class="input-wrapper">
                        <span class="currency">‚Ç∫</span>
                        <input type="text" id="targetAmount" value="1.000.000">
                    </div>
                </div>

                <div class="quick-bar">
                    <button type="button" class="amount-btn" data-val="1000000">1M</button>
                    <button type="button" class="amount-btn" data-val="2000000">2M</button>
                    <button type="button" class="amount-btn" data-val="3000000">3M</button>
                    <button type="button" class="amount-btn" data-val="4000000">4M</button>
                    <button type="button" class="amount-btn" data-val="5000000">5M</button>
                </div>

                <div class="top-input">
                    <label>Ba≈ülangƒ±√ß</label>
                    <input type="date" id="startMonth">
                </div>
                <div class="top-input">
                    <label>Aylƒ±k √ñdeme</label>
                    <div class="input-wrapper">
                        <span class="currency">‚Ç∫</span>
                        <input type="text" id="monthlyPayment" placeholder="Se√ßin" readonly class="readonly-input">
                    </div>
                </div>
            </div>

            <!-- Geli≈ümi≈ü Ayarlar + PDF -->
            <div class="top-bar-adv">
                <button class="pdf-btn" id="downloadPdfBtn" title="PDF ƒ∞ndir">üìÑ PDF</button>
                <button class="adv-btn" id="advancedToggle">‚öôÔ∏è</button>
            </div>
        </header>



        <!-- Geli≈ümi≈ü Ayarlar Panel -->
        <div class="advanced-panel" id="advancedSettings" style="display: none;">
            <div class="adv-grid">

                <div class="adv-item">
                    <label>Teslim ≈ûartƒ±: <span id="deliveryConditionLabel">%40</span></label>
                    <input type="range" id="deliveryCondition" min="10" max="100" step="1" value="40">
                </div>
                <div class="adv-item">
                    <label>Org. √úcreti: <span id="orgFeeLabel">%7</span></label>
                    <input type="range" id="orgFee" min="0" max="20" step="1" value="7">
                </div>
            </div>
        </div>

        <!-- Ana ƒ∞√ßerik: Plan Tablosu + √ñzet Yan Yana -->
        <main class="main-grid">

            <!-- Sol: Plan Tablosu -->
            <section class="plans-section">
                <table class="plans-table">
                    <thead>
                        <tr>
                            <th>√ñdeme</th>
                            <th>Tsl</th>
                            <th>Vde</th>
                            <th>%</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="suggestionsTableBody">
                    </tbody>
                </table>
            </section>

            <!-- Saƒü: √ñzet Sonu√ßlar -->
            <section class="summary-section" id="summarySection">
                <div class="summary-card highlight">
                    <span class="summary-label">Tahmini Teslim</span>
                    <span class="summary-value" id="resDeliveryMonth">-</span>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="deliveryProgress" style="width: 0%"></div>
                    </div>
                </div>

                <div class="summary-row">
                    <div class="summary-card">
                        <span class="summary-label">Teslim E≈üiƒüi (<span id="resConditionPct">%40</span>)</span>
                        <span class="summary-value" id="resDeliveryConditionAmt">‚Ç∫0</span>
                    </div>
                    <div class="summary-card">
                        <span class="summary-label">Teslimde √ñdenen</span>
                        <span class="summary-value" id="resPaidAtDelivery">‚Ç∫0</span>
                    </div>
                </div>

                <div class="summary-row">
                    <div class="summary-card">
                        <span class="summary-label">Kalan Bor√ß</span>
                        <span class="summary-value" id="resRemainingDebt">‚Ç∫0</span>
                    </div>
                    <div class="summary-card">
                        <span class="summary-label">Kalan Ay</span>
                        <span class="summary-value" id="resRemainingMonths">-</span>
                    </div>
                </div>

                <div class="summary-extended" id="extendedResults" style="display: none;">
                    <div class="summary-row">
                        <div class="summary-card">
                            <span class="summary-label">Org. √úcreti</span>
                            <span class="summary-value" id="resOrgFee">‚Ç∫0</span>
                        </div>
                        <div class="summary-card">
                            <span class="summary-label">Toplam √ñdeme</span>
                            <span class="summary-value" id="resTotalPayment">‚Ç∫0</span>
                        </div>
                    </div>
                    <div class="summary-card total-cost">
                        <span class="summary-label">Toplam Maliyet</span>
                        <span class="summary-value" id="resTotalCost">‚Ç∫0</span>
                    </div>
                </div>

                <div id="warningMessage" class="warning-box" style="display: none;">
                    <span>‚ö†Ô∏è Teslim ko≈üulu saƒülanmƒ±yor!</span>
                </div>

                <!-- Detaylƒ± √ñdeme Planƒ± -->
                <div class="payment-plan-section" id="paymentPlanSection" style="display: none;">
                    <div class="payment-plan-header">
                        <span>üìÑ Aylƒ±k √ñdeme Planƒ±</span>
                    </div>
                    <div class="payment-plan-scroll">
                        <table class="payment-plan-table">
                            <thead>
                                <tr>
                                    <th class="col-no">No</th>
                                    <th class="col-date">Tarih</th>
                                    <th class="col-amount">Taksit</th>
                                    <th class="col-month-total">Toplam</th>
                                    <th class="col-cumulative">√ñdenen</th>
                                    <th class="col-remaining">Kalan</th>
                                </tr>
                            </thead>
                            <tbody id="paymentPlanBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>
